<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<h1 ALIGN="middel">SỔ XỐ KIẾN THIẾT</h1>
<script>
    class VietlotTicket{
        constructor(num1,num2,num3,num4,num5,num6) {
            this.num1=num1;
            this.num2=num2;
            this.num3=num3;
            this.num4=num4;
            this.num5=num5;
            this.num6=num6;
        }
    }
    let array=[];
    function displayBuyVietlotTicket() {
        let result="<button onclick='BuyRandomTicket()'>Buy random ticket</button>";
        result+="<button onclick='showFormBuySelectTicket()'>Buy select ticket</button>";
        result+="<table border='3'>";
        for (let i=0;i<array.length;i++) {
            result += "<tr>";
            result += "<td>" + array[i].num1 + "</td>";
            result += "<td>" + array[i].num2 + "</td>";
            result += "<td>" + array[i].num3 + "</td>";
            result += "<td>" + array[i].num4 + "</td>";
            result += "<td>" + array[i].num5 + "</td>";
            result += "<td>" + array[i].num6 + "</td>";
            result += "</tr>";
        }
        result+="</table>";
        result+="<button onclick='LotteryStart()'>Lottery start</button>";
        document.writeln(result);
    }
    function BuyRandomTicket() {
        if (array.length>5){
            alert("Bạn chỉ có thể mua tối da 6 vé thôi");
            return;
        }
       let num1= Math.floor(Math.random()*100);
       let num2= Math.floor(Math.random()*100);
       let num3= Math.floor(Math.random()*100);
       let num4= Math.floor(Math.random()*100);
       let num5= Math.floor(Math.random()*100);
       let num6= Math.floor(Math.random()*100);
       if (confirm("Bạn có chắc là mua vé số này chứ ?")){
           array.push(new VietlotTicket(num1,num2,num3,num4,num5,num6));
           document.body.innerHTML="";
           displayBuyVietlotTicket()
       }
    }
    function showFormBuySelectTicket() {
        let result="Số thứ nhất là: <input id='num1'></br>";
        result+="Số thứ hai là: <input id='num2'></br>";
        result+="Số thứ ba là: <input id='num3'></br>";
        result+="Số thứ bốn là: <input id='num4'></br>";
        result+="Số thứ năm là: <input id='num5'></br>";
        result+="Số thứ sáu là: <input id='num6'></br>";
        result+="<button onclick='BuySelectTicket()'>Buy ticket</button>";
        document.writeln(result);
    }
    function BuySelectTicket() {
        if (array.length>2){
            alert("Bạn chỉ có thể mua tối da 3 vé thôi");
            return;
        }
        let num1=parseInt(document.getElementById("num1").value);
        let num2=parseInt(document.getElementById("num2").value);
        let num3=parseInt(document.getElementById("num3").value);
        let num4=parseInt(document.getElementById("num4").value);
        let num5=parseInt(document.getElementById("num5").value);
        let num6=parseInt(document.getElementById("num6").value);
        if (confirm("Bạn có chắc là mua vé này không ?")) {
            array.push(new VietlotTicket(num1, num2, num3, num4, num5, num6));
            document.body.innerHTML = "";
            displayBuyVietlotTicket()
        }
    }
    function LotteryStart() {
        let num1 = Math.floor(Math.random() * 100);
        let num2 = Math.floor(Math.random() * 100);
        let num3 = Math.floor(Math.random() * 100);
        let num4 = Math.floor(Math.random() * 100);
        let num5 = Math.floor(Math.random() * 100);
        let num6 = Math.floor(Math.random() * 100);
        let result = "<table border='2'>";
        result += "<tr>";
        result += "<td>" + num1 + "</td>";
        result += "<td>" + num2 + "</td>";
        result += "<td>" + num3 + "</td>";
        result += "<td>" + num4 + "</td>";
        result += "<td>" + num5 + "</td>";
        result += "<td>" + num6 + "</td>";
        result += "</tr>";
        result += "</table>";
        document.writeln(result);
        let ketQua;
        for (let j = 0; j < array.length; j++) {
            if (array.num1 === num1 && array.num2 === num2 && array.num3 === num3 && array.num4 === num4 && array.num5 === num5 && array.num6 === num6) {
                ketQua=0;
            } else if (array.num2 === num2 && array.num3 === num3 && array.num4 === num4 && array.num5 === num5 && array.num6 === num6) {
                ketQua=1;
            } else if (array.num3 === num3 && array.num4 === num4 && array.num5 === num5 && array.num6 === num6) {
                ketQua=2;
            } else {
                ketQua=3;
            }
        }
        if (ketQua===0){
            alert("Bạn đã trúng giải nhất");
        }else if (ketQua===1){
            alert("Bạn đã trúng giải nhì");
        }else if (ketQua===2){
            alert("Bạn đã trúng giải khuyến khích");
        }else {
            alert("Chúc bạn may mắn lần sau");
        }
    }
    displayBuyVietlotTicket();
</script>
</body>
</html>